# Agent Guidelines for WAF++ Framework Repository

This repository contains the **WAF++** (Well-Architected Framework Plus Plus) documentation - a community-driven framework for sovereign, cloud-agnostic cloud usage. This documentation is built using **Antora**, a multi-repository documentation site generator that produces documentation from AsciiDoc files.

## Project Overview

**Repository**: https://github.com/WAF2p/framework.git  
**Language**: German (Deutsch)  
**Type**: Antora Documentation Component  
**Build System**: Antora 3.1.x  
**Content Focus**: Cloud architecture, governance, security, cost optimization, reliability, and sustainability  
**Output Format**: Static HTML generated by Antora

### Directory Structure (Antora Standard)

```
.
├── antora.yml                    # Component descriptor
└── modules/
    └── ROOT/                     # Root module
        ├── nav.adoc              # Navigation structure
        ├── pages/                # Documentation pages (AsciiDoc)
        │   ├── index.adoc        # Component home page
        │   ├── architektur/      # Architecture & maturity models
        │   ├── best-practises/   # Getting started & motivation
        │   ├── governance-community/  # CNCF-inspired governance
        │   ├── pillars/          # Seven framework pillars
        │   │   ├── index.adoc
        │   │   ├── security/     # Security (Säule 1)
        │   │   ├── costs/        # Cost Optimization (Säule 2)
        │   │   ├── reliability/  # Reliability (Säule 4)
        │   │   ├── excellence/   # Operational Excellence
        │   │   ├── efficiancy/   # Performance Efficiency
        │   │   ├── governance/   # Governance
        │   │   └── sustainability/  # Sustainability
        │   ├── resources/        # Additional resources
        │   │   ├── index.adoc
        │   │   └── wording/      # Terminology definitions
        │   └── roadmap/          # Project roadmap
        │       ├── index.adoc
        │       └── 2026/         # Annual roadmap
        └── images/               # Images and assets
```

## Build/Test Commands

This repository is consumed by Antora as a documentation component. Building happens in the parent website repository (waf2p.github.io), not here directly.

### Local Development

**Note**: This repository does not build standalone. It is sourced by Antora from the website repository. However, you can preview and validate content locally.

**Preview AsciiDoc files**:
```bash
# Using asciidoctor (if installed)
asciidoctor modules/ROOT/pages/index.adoc -o /tmp/preview.html
open /tmp/preview.html

# Or use online AsciiDoc editor:
# https://asciidoclive.com/
```

**Validation**:
```bash
# Find all AsciiDoc files
find modules -name "*.adoc" -type f

# Check for broken xrefs (basic grep)
grep -r "xref:" modules/ROOT/pages/ --include="*.adoc"

# Validate navigation structure
cat modules/ROOT/nav.adoc
```

**Git Operations**:
```bash
# Check status
git status

# View recent changes
git log --oneline -10

# Create feature branch
git checkout -b feature/your-feature-name
```

### Building with Antora

To build the complete documentation site including this component:

```bash
# Clone the website repository
cd /path/to/waf2p.github.io

# Build with local filesystem source (for development)
npx antora antora-playbook-local.yml

# Or use the Taskfile
task docs:build:local
```

### Testing Individual Files

**Validate a single AsciiDoc file**:
```bash
# Read file content
cat modules/ROOT/pages/pillars/security/index.adoc

# Check document structure
head -20 modules/ROOT/pages/pillars/security/index.adoc
```

## Content Style Guidelines

### Language & Tone

- **Primary language**: German (Deutsch) - all documentation must be in German
- **Tone**: Professional, accessible, community-focused
- **Audience**: Architects, platform teams, security/compliance professionals
- **Style**: Clear, structured, action-oriented

### AsciiDoc Structure

**Page attributes** (at top of each .adoc file):
```asciidoc
= Page Title
:description: Brief page description

Content starts here...
```

**Section Structure**:
- Use `= Title` for page title (H1, only once per page)
- Use `== Section` for main sections (H2)
- Use `=== Subsection` for subsections (H3)
- Use `*bold*` for emphasis on key terms
- Use `* ` for unordered lists (bullet points)
- Use `NOTE:`, `TIP:`, `IMPORTANT:`, `WARNING:`, `CAUTION:` for callouts

**Link Style**:
```asciidoc
# Internal cross-references (within component)
xref:pillars/security/index.adoc[Security Pillar]

# External links
https://example.com[Link text^]

# Links with attributes
link:https://example.com[Link text,window=_blank]
```

**Example AsciiDoc Page**:
```asciidoc
= Security Pillar
:description: Sicherheit und Compliance im Cloud-Umfeld

== Worum geht es?

Die Sicherheit ist einer der wichtigsten Säulen...

=== Was wird gemacht?

* Punkt 1
* Punkt 2

NOTE: Wichtiger Hinweis für Leser

== Weitere Informationen

Siehe auch xref:governance/index.adoc[Governance Pillar].
```

### Content Guidelines for Pillars

Each pillar (Säule) should follow this structure:

1. **Worum geht es?** - What is it about? (2-3 sentences)
2. **Was wird gemacht?** - What is being done? (bullet points)
3. **Was ist zu beachten?** - What should be considered? (bullet points)
4. **Wo soll es hingehen?** - Where should it go? (long-term vision, 3-4 points)

### Naming Conventions

**Directories**:
- Use lowercase with hyphens: `best-practises/`, `governance-community/`
- German words preferred: `architektur/` not `architecture/`
- All directories under `modules/ROOT/pages/`

**Files**:
- Main content files: `index.adoc` (not .md)
- All pages must use `.adoc` extension (AsciiDoc format)

**Titles**:
- Pillars: "Säule [Number] - [Name]"
- Use title case for major sections

### Navigation Structure

Edit `modules/ROOT/nav.adoc` to add or modify navigation:

```asciidoc
* xref:index.adoc[Home]
* xref:pillars/index.adoc[Die 7 Säulen]
** xref:pillars/security/index.adoc[Säule 1: Security]
** xref:pillars/costs/index.adoc[Säule 2: Costs]
```

Navigation is hierarchical and supports nesting.

### Terminology

**Key German Terms** (use consistently):
- **Säule** = Pillar
- **Reifegrad/Reifegradmodell** = Maturity/Maturity Model
- **Governance** = Governance (keep English)
- **Cloud-agnostisch** = Cloud-agnostic
- **Souverän/Souveränität** = Sovereign/Sovereignty

Refer to `resources/wording/index.md` for project-specific terminology.

## Git Workflow

### Commit Message Format

Follow conventional commits style in German:

```
<type>: <description>

[optional body]

[optional footer]
```

**Types**:
- `feat`: New content or feature
- `fix`: Corrections to existing content
- `docs`: Documentation structure changes
- `style`: Formatting, typos (no content change)
- `refactor`: Content reorganization
- `chore`: Maintenance tasks

**Examples**:
```
feat: add sustainability pillar description

fix: correct typo in security pillar

docs: restructure roadmap for 2026
```

### Branch Strategy

- `main` - stable, production-ready content
- `feature/*` - new content or sections
- `fix/*` - corrections and improvements

## Content Quality Checklist

Before committing new content:

- [ ] Content is in AsciiDoc format (`.adoc` extension)
- [ ] Content is in German
- [ ] Page title is set with `= Title` syntax
- [ ] Structure follows pillar template (if applicable)
- [ ] Cross-references use `xref:` syntax with correct paths
- [ ] No orphaned files or broken internal references
- [ ] Terminology is consistent with project glossary
- [ ] AsciiDoc syntax is valid
- [ ] Navigation updated in `modules/ROOT/nav.adoc` if adding new pages

## Antora-Specific Considerations

### Component Descriptor

The `antora.yml` file defines this documentation component:

```yaml
name: wafpp
title: WAF++ Documentation
version: '1.0'
start_page: ROOT:index.adoc
```

**Do not modify** unless coordinating with website repository maintainers.

### Cross-References

Use Antora xref syntax for all internal links:

```asciidoc
# Within same directory
xref:other-page.adoc[Link text]

# Different directory
xref:pillars/security/index.adoc[Security]

# With anchor
xref:pillars/index.adoc#section-id[Section]
```

### Images and Assets

Place images in `modules/ROOT/images/`:

```asciidoc
image::diagram.png[Alt text]
```

Antora will automatically resolve image paths during build.

## Community Guidelines

This project follows a **CNCF-inspired governance model**:

- **Technical Steering Committee (TSC)**: Technical direction
- **Maintainers**: Repository quality and consistency
- **Contributors**: Issues, PRs, proposals
- **User Advisory Group**: Practical feedback

**Contributing**:
1. Check existing issues on GitHub
2. Open an issue for discussion before major changes
3. Follow the style guidelines in this document
4. Submit PRs with clear descriptions
5. Participate in community discussions

## Special Considerations

### Antora Integration

This repository is consumed as a **documentation component** by Antora:

- **Website repo**: https://github.com/WAF2p/waf2p.github.io
- **Build system**: Antora generates static HTML from this content
- **URL structure**: `https://waf2p.dev/docs/wafpp/1.0/[page-path]`
- **Version**: Currently using version `1.0` (defined in antora.yml)

### AsciiDoc vs Markdown

- **Use AsciiDoc** (`.adoc`), not Markdown (`.md`)
- AsciiDoc provides better semantic markup for technical documentation
- Antora requires AsciiDoc format
- See https://docs.asciidoctor.org/asciidoc/latest/ for syntax reference

### No Standalone Build

This repository **does not build independently**:
- No Jekyll configuration
- No build system in this repo
- Building happens in the parent website repository
- Content is sourced remotely or via filesystem by Antora

### Accessibility

When creating AsciiDoc content:
- Use semantic heading hierarchy (=, ==, ===)
- Provide alt text for images: `image::file.png[Descriptive alt text]`
- Ensure proper document structure
- Use Antora's built-in features for navigation and cross-referencing

---

**Last Updated**: January 2026  
**Maintainer Reference**: See `governance-community/index.adoc` for governance structure  
**Related**: See waf2p.github.io repository for website build configuration
